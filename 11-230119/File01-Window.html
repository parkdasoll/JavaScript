<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JavaScipt - Window</title>
    <link rel="stylesheet" href="../../CSS/reset.css">
    <link rel="stylesheet" href="../../CSS/dark.css">
</head>
<body>
    <script>
        // 타이머의 종류
        //  - 일정 시간 '뒤에' 지정된 기능을 수행하는 타이머
        //      → setTimeout()      : 타이머 등록 메서드
        //      → clearTimeout()    : 타이머 해제 메서드
        //  - 일정 시간 '마다' 지정된 기능을 수행하는 타이머
        //      → setInterval()     : 타이머 등록 메서드
        //      → clearInterval()   : 타이머 해제 메서드

        var value = 0;

        function printValue() {
            // 함수 내에서 함수 밖에 선언된 변수에 접근이 가능

            // 변수 value 의 값을 반환
            console.log("value = " + value);

            // 변수 value 의 값을 설정
            value += 2; // 변수 value 의 값을 2 만큼 증가
        }

        // 함수를 호출하여 실행할 때 마다
        // 변수 value 의 값이 2씩 증가
        // printValue();
        // printValue();
        // printValue();

        // 2초 '마다' 변수 value 의 값이 2씩 증가
        // window.setInterval(printValue, 2000);

        // 5초 '마다' 변수 value 의 값이 5씩 증가
        window.setInterval(function() {
            // console.log("> value = " + value);

            value += 5;
        }, 2000);

        console.log("Default Value = " + value);
    </script>

    <script>
        // 타이머 해제 메서드
        // → clearTimeout()
        //      - setTimeout() 메서드로 등록된 타이머는 한 번 수행하고 끝나기 때문에
        //        해제 해야하는 경우는 타이머가 수행되기 전에 해제해야할 때 사용
        //      → 즉, 등록된 타이머를 취소시킬 때
        // → clearInterval()
        //      → 등록된 타이머를 취소시킬 때
        //      - 타이머를 더 이상 수행할 필요가 없을 때 
        // → 타이머 해제 메서드는 어떻게 해제하느냐에 따라 작성되는 위치가 달라진다.
        //      ex) 일정 시간 뒤에 해제
        //      ex) 특정 횟수 만큼 수행하고 해제
        //      ex) 버튼을 클릭했을 때 해제
        
        var count = 0;
        // 등록된 타이머를 해제하려면 타이머의 ID 가 필요
        var timerId = window.setInterval(function(){
            console.log(count + " : Hello World!");
            count++;

            // count 의 값이 3이 됐을 때 타이머를 해제
            if( count == 3) {
                window.clearInterval(timerId);

                // setTimeout() 에 의해 해제되기 전에
                // 타이머가 해제됐으므로 setTimeout() 으로
                // 등록된 타이머를 해제(취소)
                window.clearTimeout(timerId2);
            }
        },1000);

        // 5초 뒤에 위의 타이머를 해제
        var timerId2 = window.setTimeout(function(){
            console.log("Turn off the timer /" + timerId);
            window.clearInterval(timerId);
        },5000);

    </script>
</body>
</html>